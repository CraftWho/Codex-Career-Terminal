<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recovery Jeopardy</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Set Inter font family -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #060a2b; /* Dark blue background */
        }
        /* Custom styles for the Jeopardy board */
        .jeopardy-board {
            display: grid;
            grid-template-columns: repeat(5, minmax(0, 1fr));
            gap: 8px;
        }
        .category-cell {
            background-color: #06226e; /* Jeopardy blue */
            color: white;
            font-weight: bold;
            text-align: center;
            padding: 16px 8px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100px;
            line-height: 1.3;
        }
        .question-cell {
            background-color: #06226e; /* Jeopardy blue */
            color: #ffcc00; /* Jeopardy yellow */
            font-size: 1.75rem; /* 28px */
            font-weight: bold;
            text-align: center;
            padding: 16px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 120px;
            transition: all 0.2s ease-in-out;
        }
        .question-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
        }
        .question-cell.answered {
            background-color: #373b5a;
            color: #6b7280;
            cursor: not-allowed;
            pointer-events: none;
        }
        .question-cell.answered::after {
            content: 'ANSWERED';
            font-size: 1rem;
            font-weight: normal;
        }
        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 24px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .modal-question {
            font-size: 1.5rem; /* 24px */
            font-weight: 500;
            color: #1f2937;
            text-align: center;
            margin: auto;
            padding: 20px;
        }
        .modal-answer {
            display: none; /* Hidden until revealed */
            font-size: 1.25rem; /* 20px */
            font-weight: 600;
            color: #10b981; /* Green for answer */
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="container mx-auto max-w-6xl">
        <h1 class="text-4xl md:text-5xl font-extrabold text-center text-white mb-6">Recovery Jeopardy</h1>

        <!-- Scoreboard -->
        <div class="flex justify-between items-center bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold text-gray-800">Score: <span id="score" class="text-blue-600">0</span></h2>
            <button id="reset-game" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                Reset Game
            </button>
        </div>

        <!-- Jeopardy Board -->
        <div id="jeopardy-board" class="jeopardy-board">
            <!-- Categories and questions will be injected by JavaScript -->
        </div>
    </div>

    <!-- Question Modal -->
    <div id="question-modal" class="modal">
        <div class="modal-content">
            <div>
                <div class="flex justify-between items-center mb-4">
                    <span id="modal-category" class="text-xl font-semibold text-blue-700">Category</span>
                    <span id="modal-points" class="text-2xl font-bold text-yellow-600">$000</span>
                </div>
                <div id="modal-question-text" class="modal-question">
                    Question text will appear here...
                </div>
                <div id="modal-answer-text" class="modal-answer">
                    Answer text will appear here...
                </div>
            </div>

            <div id="button-container" class="mt-6 flex flex-col gap-3">
                <button id="show-answer-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg">
                    Show Answer
                </button>
                <div id="scoring-buttons" class="hidden grid grid-cols-2 gap-3">
                    <button id="correct-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg">
                        I Got It Right!
                    </button>
                    <button id="incorrect-btn" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-lg transition-colors text-lg">
                        I Got It Wrong
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameData = {
                "Mental Health Basics": {
                    100: { q: "This is a common mood disorder characterized by persistent sadness, loss of interest, and feelings of worthlessness.", a: "What is depression?" },
                    200: { q: "This condition involves excessive, persistent worry and fear about everyday situations.", a: "What is an anxiety disorder?" },
                    300: { q: "A disorder associated with episodes of mood swings ranging from depressive lows to manic highs.", a: "What is bipolar disorder?" },
                    400: { q: "The practice of being fully present and engaged in the current moment without judgment.", a: "What is mindfulness?" },
                    500: { q: "A negative and unfair belief associated with a particular circumstance, quality, or person, often preventing people from seeking help.", a: "What is stigma?" }
                },
                "Detox & Withdrawal": {
                    100: { q: "The medical process of safely helping the body rid itself of a substance.", a: "What is detoxification (or detox)?" },
                    200: { q: "The physical and mental symptoms that occur after stopping or reducing intake of a substance.", a: "What is withdrawal?" },
                    300: { q: "A state in which the body adapts to a substance, requiring more of it to achieve the same effect.", a: "What is tolerance?" },
                    400: { q: "A set of symptoms that can continue for weeks, months, or even years after stopping substance use.", a: "What is Post-Acute Withdrawal Syndrome (PAWS)?" },
                    500: { q: "The term for when a person needs a substance to function 'normally' and experiences withdrawal without it.", a: "What is physical dependence?" }
                },
                "Recovery Principles": {
                    100: { q: "This phrase encourages focusing on the present 24 hours rather than worrying about the distant future.", a: "What is 'One Day at a Time'?" },
                    200: { q: "A person in recovery who guides a newer member through the program.", a: "What is a sponsor?" },
                    300: { q: "This acronym is a reminder to check if you are feeling 'Hungry, Angry, Lonely, or Tired'â€”common relapse triggers.", a: "What is H.A.L.T.?" },
                    400: { q: "A return to substance use after a period of abstinence.", a: "What is a relapse?" },
                    500: { q: "This concept, often from the Serenity Prayer, involves accepting what you cannot change and changing what you can.", a: "What is acceptance?" }
                },
                "The 12 Steps": {
                    100: { q: "Step 1 involves admitting this over alcohol or another substance.", a: "What is powerlessness?" },
                    200: { q: "Step 2 involves coming to believe in this, 'as we understood Him.'", a: "What is a Power greater than ourselves?" },
                    300: { q: "Step 3 is about making a decision to turn our will and lives over to this.", a: "What is the care of God (or a Higher Power)?" },
                    400: { q: "Step 4 involves making a 'searching and fearless' one of these.", a: "What is a moral inventory?" },
                    500: { q: "In Step 5, members admit to their Higher Power, themselves, and this person 'the exact nature of our wrongs.'", a: "What is another human being?" }
                },
                "Coping Skills": {
                    100: { q: "This involves writing down thoughts and feelings to understand them more clearly.", a: "What is journaling?" },
                    200: { q: "These are limits and rules we set for ourselves within relationships.", a: "What are healthy boundaries?" },
                    300: { q: "Talking with a trusted friend, family member, or support group is this type of coping skill.", a: "What is social support (or 'reaching out')?" },
                    400: { q: "Physical activity is a well-known coping skill for managing this common feeling.", a: "What is stress (or anxiety/depression)?" },
                    500: { q: "This skill involves focusing on your five senses to help ground you in the present moment during high stress or a craving.", a: "What is grounding?" }
                }
            };

            const board = document.getElementById('jeopardy-board');
            const modal = document.getElementById('question-modal');
            const modalCategory = document.getElementById('modal-category');
            const modalPoints = document.getElementById('modal-points');
            const modalQuestion = document.getElementById('modal-question-text');
            const modalAnswer = document.getElementById('modal-answer-text');
            const showAnswerBtn = document.getElementById('show-answer-btn');
            const scoringButtons = document.getElementById('scoring-buttons');
            const correctBtn = document.getElementById('correct-btn');
            const incorrectBtn = document.getElementById('incorrect-btn');
            const scoreDisplay = document.getElementById('score');
            const resetBtn = document.getElementById('reset-game');

            let currentScore = 0;
            let currentPoints = 0;

            function createBoard() {
                // Clear board
                board.innerHTML = '';
                // Reset score
                currentScore = 0;
                updateScore(0);

                const categories = Object.keys(gameData);
                
                // 1. Create Category Headers
                categories.forEach(category => {
                    const cell = document.createElement('div');
                    cell.classList.add('category-cell');
                    cell.textContent = category;
                    board.appendChild(cell);
                });

                // 2. Create Question Cells
                const points = [100, 200, 300, 400, 500];
                points.forEach(point => {
                    categories.forEach(category => {
                        const cell = document.createElement('div');
                        cell.classList.add('question-cell');
                        cell.textContent = `$${point}`;
                        cell.dataset.category = category;
                        cell.dataset.points = point;
                        board.appendChild(cell);
                    });
                });

                // Add event listeners to new cells
                document.querySelectorAll('.question-cell').forEach(cell => {
                    cell.addEventListener('click', handleQuestionClick);
                });
            }

            function handleQuestionClick(e) {
                const cell = e.target;
                const category = cell.dataset.category;
                const points = parseInt(cell.dataset.points);
                
                if (!category || !points || cell.classList.contains('answered')) {
                    return;
                }

                currentPoints = points;
                const { q, a } = gameData[category][points];

                // Populate and show modal
                modalCategory.textContent = category;
                modalPoints.textContent = `$${points}`;
                modalQuestion.textContent = q;
                modalAnswer.textContent = a;
                
                // Reset modal state
                modalAnswer.style.display = 'none';
                scoringButtons.classList.add('hidden');
                showAnswerBtn.classList.remove('hidden');
                showAnswerBtn.disabled = false;

                modal.style.display = 'flex';

                // Mark cell as answered
                cell.classList.add('answered');
                cell.textContent = ''; // Clear points
            }

            function updateScore(points) {
                currentScore += points;
                scoreDisplay.textContent = currentScore;
            }

            function closeModal() {
                modal.style.display = 'none';
            }

            // --- Modal Button Listeners ---

            showAnswerBtn.addEventListener('click', () => {
                modalAnswer.style.display = 'block';
                showAnswerBtn.classList.add('hidden');
                scoringButtons.classList.remove('hidden');
            });

            correctBtn.addEventListener('click', () => {
                updateScore(currentPoints);
                closeModal();
            });

            incorrectBtn.addEventListener('click', () => {
                updateScore(-currentPoints);
                closeModal();
            });

            // Close modal if clicking outside the content
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // Reset game
            resetBtn.addEventListener('click', createBoard);

            // Initial board setup
            createBoard();
        });
    </script>
</body>
</html>
